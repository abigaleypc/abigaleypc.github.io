<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="JavaScript,interview," />








  <link rel="shortcut icon" type="image/x-icon" href="/images/dear.png?v=5.1.2" />






<meta name="description" content="DOM 和 BOM 文档对象模型(DOM)：提供访问和操作网页内容的方法和接口 浏览器对象模型(BOM)：提供与浏览器交互的方法和接口  argumentsarguments对象不是一个 Array 。它类似于Array，但除了length属性和索引元素之外没有任何Array属性。例如，它没有 pop 方法。 转换为一个真正的Array：123456var args = Array.prototy">
<meta name="keywords" content="JavaScript,interview">
<meta property="og:type" content="article">
<meta property="og:title" content="我的面试准备 -- 基础JS">
<meta property="og:url" content="https://abigaleyu.co/2018/06/28/basic-js/index.html">
<meta property="og:site_name" content="Abigale&#39;s Blog">
<meta property="og:description" content="DOM 和 BOM 文档对象模型(DOM)：提供访问和操作网页内容的方法和接口 浏览器对象模型(BOM)：提供与浏览器交互的方法和接口  argumentsarguments对象不是一个 Array 。它类似于Array，但除了length属性和索引元素之外没有任何Array属性。例如，它没有 pop 方法。 转换为一个真正的Array：123456var args = Array.prototy">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://abigaleyu.co/images/interview/01.basicJs/prototype.png">
<meta property="og:image" content="https://abigaleyu.co/images/interview/01.basicJs/client.jpg">
<meta property="og:image" content="https://abigaleyu.co/images/interview/01.basicJs/offset.jpg">
<meta property="og:image" content="https://abigaleyu.co/images/interview/01.basicJs/scroll.jpg">
<meta property="og:updated_time" content="2018-06-28T08:40:39.953Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="我的面试准备 -- 基础JS">
<meta name="twitter:description" content="DOM 和 BOM 文档对象模型(DOM)：提供访问和操作网页内容的方法和接口 浏览器对象模型(BOM)：提供与浏览器交互的方法和接口  argumentsarguments对象不是一个 Array 。它类似于Array，但除了length属性和索引元素之外没有任何Array属性。例如，它没有 pop 方法。 转换为一个真正的Array：123456var args = Array.prototy">
<meta name="twitter:image" content="https://abigaleyu.co/images/interview/01.basicJs/prototype.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"hide","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://abigaleyu.co/2018/06/28/basic-js/"/>





  <title>我的面试准备 -- 基础JS | Abigale's Blog</title>
  




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-104545772-1', 'auto');
  ga('send', 'pageview');
</script>


  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?41fc030db57d5570dd22f78997dc4a7e";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Abigale's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description"></h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://abigaleyu.co/2018/06/28/basic-js/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Abigale">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/dear.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Abigale's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">我的面试准备 -- 基础JS</h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-06-28T15:29:09+08:00">
                2018-06-28
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Front-End/" itemprop="url" rel="index">
                    <span itemprop="name">Front-End</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/06/28/basic-js/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/06/28/basic-js/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="DOM-和-BOM"><a href="#DOM-和-BOM" class="headerlink" title="DOM 和 BOM"></a>DOM 和 BOM</h2><ul>
<li>文档对象模型(DOM)：提供访问和操作网页内容的方法和接口</li>
<li>浏览器对象模型(BOM)：提供与浏览器交互的方法和接口</li>
</ul>
<h2 id="arguments"><a href="#arguments" class="headerlink" title="arguments"></a>arguments</h2><p>arguments对象不是一个 Array 。它类似于Array，但除了length属性和索引元素之外没有任何Array属性。例如，它没有 pop 方法。</p>
<h3 id="转换为一个真正的Array："><a href="#转换为一个真正的Array：" class="headerlink" title="转换为一个真正的Array："></a>转换为一个真正的Array：</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> args = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>);</div><div class="line"><span class="keyword">var</span> args = [].slice.call(<span class="built_in">arguments</span>);</div><div class="line"><span class="keyword">var</span> args = [...arguments]; <span class="comment">// 扩展运算符方法</span></div><div class="line"></div><div class="line"><span class="comment">// ES2015</span></div><div class="line"><span class="keyword">const</span> args = <span class="built_in">Array</span>.from(<span class="built_in">arguments</span>);</div></pre></td></tr></table></figure>
<a id="more"></a>
<h3 id="关于类型"><a href="#关于类型" class="headerlink" title="关于类型"></a>关于类型</h3><ul>
<li>Object.prototype.toString.call(arguments); // “[object Arguments]”</li>
<li>typeof arguments // Object</li>
</ul>
<h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><h3 id="基础数据类型"><a href="#基础数据类型" class="headerlink" title="基础数据类型"></a>基础数据类型</h3><ul>
<li>string</li>
<li>Number</li>
<li>Boolean</li>
<li>undefined</li>
<li>Null</li>
</ul>
<h3 id="引用数据类型"><a href="#引用数据类型" class="headerlink" title="引用数据类型"></a>引用数据类型</h3><ul>
<li>Object(Array,Date,RegExp,Function)</li>
</ul>
<h3 id="null-和-undefined-的异同"><a href="#null-和-undefined-的异同" class="headerlink" title="null 和 undefined 的异同"></a>null 和 undefined 的异同</h3><ul>
<li>共同点</li>
<li>都是表示”无”</li>
<li>用if语句时，都会被转成false</li>
<li>不同点</li>
<li>null 是一个表示“无”的对象，转换为数字的时候是 <code>0</code></li>
<li>undefined 是一个表示“无”的原始值，转换为数字时是 <code>NaN</code></li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">Number</span>(<span class="literal">null</span>) <span class="comment">// 0</span></div><div class="line"><span class="built_in">Number</span>(<span class="literal">undefined</span>) <span class="comment">// NaN</span></div><div class="line"><span class="number">5</span>+<span class="literal">null</span> <span class="comment">// 5</span></div><div class="line"><span class="number">5</span>+<span class="literal">undefined</span> <span class="comment">// NaN</span></div></pre></td></tr></table></figure>
<ul>
<li>Null典型用法<ul>
<li>函数参数传递为空时，使用null 如 foo(null,null)</li>
<li>原型链的终点,如 Object.getPrototypeOf(Object.prototype)</li>
</ul>
</li>
<li>undefined典型用法<ul>
<li>一个定义了的变量没有赋值</li>
<li>一个函数该给的参数没有给</li>
<li>一个对象的某个属性没有赋值</li>
<li>函数没有返回值时，默认为undefined</li>
</ul>
</li>
</ul>
<h3 id="检测类型的方法"><a href="#检测类型的方法" class="headerlink" title="检测类型的方法"></a>检测类型的方法</h3><ul>
<li><p>typeof 适用于基础类型 而不适合引用类型</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typeof</span> <span class="literal">undefined</span>; <span class="comment">//undefined 有效</span></div><div class="line"><span class="keyword">typeof</span> <span class="literal">null</span>; <span class="comment">//object 无效</span></div></pre></td></tr></table></figure>
</li>
<li><p>instanceof 只能用来判断两个对象是否属于实例关系， 而不能判断一个对象实例具体属于哪种类型</p>
</li>
<li><p>constructor</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> f = <span class="keyword">new</span> F()</div><div class="line">f.constructor == F <span class="comment">//true</span></div></pre></td></tr></table></figure>
</li>
<li><p>toString()</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> type = <span class="built_in">Object</span>.prototype.toString.call(<span class="literal">true</span>)</div><div class="line">type.slice(<span class="number">8</span>,<span class="number">-1</span>)</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="类型转换，判断下列的真假"><a href="#类型转换，判断下列的真假" class="headerlink" title="类型转换，判断下列的真假"></a>类型转换，判断下列的真假</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> <span class="literal">undefined</span>;</div><div class="line"><span class="literal">undefined</span> == <span class="literal">null</span>; <span class="comment">// true</span></div><div class="line"><span class="number">1</span> == <span class="literal">true</span>; <span class="comment">// true</span></div><div class="line"><span class="number">2</span> == <span class="literal">true</span>; <span class="comment">// false</span></div><div class="line"><span class="number">0</span> == <span class="literal">false</span>; <span class="comment">// true</span></div><div class="line"><span class="number">0</span> == <span class="string">''</span>; <span class="comment">// true</span></div><div class="line"><span class="literal">NaN</span> == <span class="literal">NaN</span> <span class="comment">// false</span></div><div class="line">[]==![] <span class="comment">// true</span></div><div class="line">[]==<span class="literal">false</span> <span class="comment">// true</span></div></pre></td></tr></table></figure>
<h2 id="执行环境和作用域"><a href="#执行环境和作用域" class="headerlink" title="执行环境和作用域"></a>执行环境和作用域</h2><h3 id="js-的作用域有几种？"><a href="#js-的作用域有几种？" class="headerlink" title="js 的作用域有几种？"></a>js 的作用域有几种？</h3><ul>
<li>局部作用域 / 函数作用域(块级作用域)</li>
<li><p>全局作用域</p>
</li>
<li><p>作用域链<br>当查找变量的时候，会先从当前上下文的变量对象中查找，如果没有找到，就会从父级(词法层面上的父级)执行上下文的变量对象中查找，一直找到全局上下文的变量对象，也就是全局对象。这样由多个执行上下文的变量对象构成的链表就叫做作用域链。</p>
</li>
<li><p>执行环境也就是函数之外那一层 </p>
</li>
</ul>
<p>无块级作用域：使用var时，变量会自动添加到最接近的环境（函数）中。</p>
<h2 id="this"><a href="#this" class="headerlink" title="this"></a>this</h2><h3 id="this有哪些应用场景"><a href="#this有哪些应用场景" class="headerlink" title="this有哪些应用场景"></a>this有哪些应用场景</h3><ul>
<li><p>作为对象方法调用</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> test = &#123;</div><div class="line">    a:<span class="number">0</span>,</div><div class="line">    b:<span class="number">0</span></div><div class="line">    get:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.a; <span class="comment">// 对象方法调用</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>作为构造函数的调用</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Point</span>(<span class="params">x, y</span>)</span>&#123; </div><div class="line">    <span class="keyword">this</span>.x = x; </div><div class="line">    <span class="keyword">this</span>.y = y; </div><div class="line"> &#125;</div></pre></td></tr></table></figure>
</li>
<li><p>使用 call 和 apply</p>
</li>
<li>获取全局对象</li>
</ul>
<blockquote>
<p>参考：<a href="http://www.ruanyifeng.com/blog/2010/04/using_this_keyword_in_javascript.html" target="_blank" rel="noopener">Javascript 的 this 用法 </a></p>
</blockquote>
<h3 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h3><ul>
<li>this对象是在运行时基于函数的执行环境绑定的。普通函数调用，函数被谁调用，this就指向谁。</li>
<li>记住应当去看当前this指向哪里。普通函数定义时，它里面的this都指向全局(如案例三)。除非去根据构造函数new 一个实例，这个实例的this指向了它本身(案例六)</li>
</ul>
<ul>
<li>箭头函数和普通函数的this</li>
<li>原型链中的this:往上找</li>
<li>getter 与 setter 中的 this</li>
<li>作为一个内联事件处理函数：当代码被内联on-event 处理函数调用时，它的this指向监听器所在的DOM元素：</li>
</ul>
<h3 id="普通对象函数的this"><a href="#普通对象函数的this" class="headerlink" title="普通对象函数的this"></a>普通对象函数的this</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> fullname =<span class="string">'John Doe'</span>;</div><div class="line"><span class="keyword">var</span> obj =&#123;</div><div class="line">  fullname:<span class="string">'Colin Ihrig'</span>,</div><div class="line">  prop:&#123;</div><div class="line">    fullname:<span class="string">'Aurelio De Rosa'</span>,</div><div class="line">    getFullname:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">      <span class="keyword">return</span> <span class="keyword">this</span>.fullname;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;;</div><div class="line"><span class="built_in">console</span>.log(obj.prop.getFullname());  <span class="comment">// Aurelio De Rosa</span></div><div class="line"><span class="keyword">var</span> test = obj.prop.getFullname;</div><div class="line"><span class="built_in">console</span>.log(test()); <span class="comment">// John Doe</span></div></pre></td></tr></table></figure>
<h3 id="闭包或普通函数的this"><a href="#闭包或普通函数的this" class="headerlink" title="闭包或普通函数的this"></a>闭包或普通函数的this</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 案例一：this 指向golbal/window</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params">params</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>);</div><div class="line">  <span class="keyword">var</span> abigale = <span class="number">1</span></div><div class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.abigale);<span class="comment">//undefined</span></div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">f2</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.abigale);<span class="comment">//undefined</span></div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> f2()</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 案例二：写了this </span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params">params</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>);</div><div class="line">  <span class="keyword">this</span>.abigale = <span class="number">1</span> <span class="comment">// 赋值到全局</span></div><div class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.abigale);<span class="comment">//1</span></div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">f2</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.abigale);<span class="comment">//1</span></div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> f2()</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 案例三：在函数修改 但其实this指向全局，它其实是改了全局的this</span></div><div class="line"><span class="keyword">this</span>.name = <span class="string">'golbal'</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">params</span>) </span>&#123;</div><div class="line">  <span class="keyword">this</span>.name = <span class="string">'local'</span></div><div class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">test()() <span class="comment">//local</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// 案例四：this指向对象本身</span></div><div class="line"><span class="keyword">var</span> fo = &#123;</div><div class="line">  name :<span class="number">3</span>,</div><div class="line">  foo:<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'------------------------------------'</span>);</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'------------------------------------'</span>);</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="构造函数this"><a href="#构造函数this" class="headerlink" title="构造函数this"></a>构造函数this</h3><ul>
<li>如果有new关键字，this指向new出来的那个对象<br>eg: 如在浏览器下执行<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">F</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>)</div><div class="line">&#125;</div><div class="line">F(); <span class="comment">// window</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> f = <span class="keyword">new</span> F() <span class="comment">// 这一步会执行F(),且this指向F，而非window</span></div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="匿名函数的this"><a href="#匿名函数的this" class="headerlink" title="匿名函数的this"></a>匿名函数的this</h3><blockquote>
<p>参考：匿名函数的执行环境具有全局性《JavaScript高级程序设计》P182</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> obj = &#123;</div><div class="line">  say: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>) <span class="comment">// &#123;say:function&#125;</span></div><div class="line">    setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>) <span class="comment">// window</span></div><div class="line">    &#125;);</div><div class="line">   (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">     <span class="built_in">console</span>.log(<span class="keyword">this</span>) <span class="comment">// window</span></div><div class="line">   &#125;)()</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">obj.say();</div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> obj = &#123;</div><div class="line">  say: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>) <span class="comment">// &#123;say:function&#125;</span></div><div class="line">    setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>) <span class="comment">// window</span></div><div class="line">    &#125;);</div><div class="line"></div><div class="line">    <span class="keyword">this</span>.a = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>); <span class="comment">//&#123;say:function,a:function&#125;</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">this</span>.a()</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">obj.say();</div><div class="line"><span class="string">``</span><span class="string">` </span></div><div class="line"><span class="string"></span></div><div class="line"><span class="string">### 严格模式下的this</span></div><div class="line"><span class="string"></span></div><div class="line"><span class="string">`</span><span class="string">``</span>js</div><div class="line"> <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</div><div class="line"><span class="meta">   'use strict'</span>;</div><div class="line">   <span class="built_in">console</span>.log(<span class="keyword">this</span>);</div><div class="line"> &#125;</div><div class="line"> test(); <span class="comment">//undefined</span></div></pre></td></tr></table></figure>
<p>4.箭头函数中的 this</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">案例：普通函数和箭头函数</div><div class="line"><span class="keyword">var</span> o = &#123;</div><div class="line">  a:<span class="number">1</span>,</div><div class="line">  b:<span class="number">2</span>,</div><div class="line">  f: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; </div><div class="line">    <span class="built_in">console</span>.log( <span class="keyword">this</span>.a + <span class="keyword">this</span>.b);  <span class="comment">//3</span></div><div class="line">  &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// 箭头函数没有自己的this, 它的this是继承而来; 默认指向在定义它时所处的对象(宿主对象),而不是执行时的对象, 定义它的时候,可能环境是window; 箭头函数可以方便地让我们在 setTimeout ,setInterval中方便的使用this</span></div><div class="line"></div><div class="line"><span class="comment">// * 普通函数this指向执行时调用它的对象</span></div><div class="line"><span class="comment">// * 箭头函数this总是指向定义时所在的对象，而不是运行时所在的对象</span></div><div class="line"><span class="keyword">var</span> c = &#123;</div><div class="line">  a:<span class="number">1</span>,</div><div class="line">  b:<span class="number">2</span>,</div><div class="line">  f: <span class="function"><span class="params">()</span> =&gt;</span>&#123; </div><div class="line">    <span class="built_in">console</span>.log( <span class="keyword">this</span>.a + <span class="keyword">this</span>.b);  <span class="comment">// NaN  定义时没有this</span></div><div class="line">  &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> obj = &#123;</div><div class="line">  say: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>)</div><div class="line">    &#125;);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">obj.say(); <span class="comment">// obj</span></div></pre></td></tr></table></figure>
<p>此时的 this继承自obj, 指的是定义它的对象obj, 而不是 window! </p>
<p>示例(多层嵌套的箭头函数):</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> obj = &#123;</div><div class="line">say: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> f1 = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>); <span class="comment">// obj</span></div><div class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>); <span class="comment">// obj</span></div><div class="line">    &#125;)</div><div class="line">  &#125;</div><div class="line">  f1();</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">obj.say()</div></pre></td></tr></table></figure>
<p>因为f1定义时所处的函数 中的 this是指的 obj, setTimeout中的箭头函数this继承自f1, 所以不管有多层嵌套,都是 obj</p>
<p>匿名函数,定时器中的函数,由于没有默认的宿主对象,所以默认this指向window</p>
<blockquote>
<p>参考：<a href="https://blog.csdn.net/yangbingbinga/article/details/61424363" target="_blank" rel="noopener">深入理解ES6箭头函数的this以及各类this面试题总结</a></p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Parent</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.a = <span class="number">1</span>;</div><div class="line">    <span class="keyword">this</span>.b = [<span class="number">1</span>, <span class="number">2</span>, <span class="keyword">this</span>.a];</div><div class="line">    <span class="keyword">this</span>.c = &#123; <span class="attr">demo</span>: <span class="number">5</span> &#125;;</div><div class="line">    <span class="keyword">this</span>.show = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.a , <span class="keyword">this</span>.b , <span class="keyword">this</span>.c.demo );</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Child</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.a = <span class="number">2</span>;</div><div class="line">    <span class="keyword">this</span>.change = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">this</span>.b.push(<span class="keyword">this</span>.a);</div><div class="line">        <span class="keyword">this</span>.a = <span class="keyword">this</span>.b.length;</div><div class="line">        <span class="keyword">this</span>.c.demo = <span class="keyword">this</span>.a++;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">Child.prototype = <span class="keyword">new</span> Parent(); </div><div class="line"><span class="keyword">var</span> parent = <span class="keyword">new</span> Parent();</div><div class="line"><span class="keyword">var</span> child1 = <span class="keyword">new</span> Child();</div><div class="line"><span class="keyword">var</span> child2 = <span class="keyword">new</span> Child();</div><div class="line">child1.a = <span class="number">11</span>;</div><div class="line">child2.a = <span class="number">12</span>;</div><div class="line">parent.show(); </div><div class="line">child1.show();  </div><div class="line">child2.show();  </div><div class="line">child1.change();</div><div class="line">child2.change();</div><div class="line">parent.show();</div><div class="line">child1.show();  </div><div class="line">child2.show();</div></pre></td></tr></table></figure>
<h2 id="创建对象-类"><a href="#创建对象-类" class="headerlink" title="创建对象(类)"></a>创建对象(类)</h2><h3 id="采用ES5创建对象-类"><a href="#采用ES5创建对象-类" class="headerlink" title="采用ES5创建对象/类"></a>采用ES5创建对象/类</h3><p>可以先理清js下的类</p>
<ul>
<li>类 没用于继承的话 它就是一个普通函数</li>
<li>类 就是 构造函数</li>
<li>构造函数 用来生成 特定类型 的对象</li>
</ul>
<h4 id="方法：记住各种弊端"><a href="#方法：记住各种弊端" class="headerlink" title="方法：记住各种弊端"></a>方法：记住各种弊端</h4><ul>
<li>工厂模式</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">createObject</span>(<span class="params">name, age</span>)</span>&#123;</div><div class="line">  <span class="keyword">let</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();</div><div class="line">  obj.name = name;</div><div class="line">  obj.age = age;</div><div class="line">  obj.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name)</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> obj;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>弊端：</p>
<ul>
<li>创建后无法识别是何种类型的对象</li>
<li><p>构造函数模式</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age</span>)</span>&#123;</div><div class="line">  <span class="keyword">this</span>.name = name;</div><div class="line">  <span class="keyword">this</span>.age = age;</div><div class="line">  <span class="keyword">this</span>.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name)</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<p>与工厂模式不同的是：</p>
<ul>
<li>不用显示new一个Object</li>
<li>将对象方法都赋予this</li>
<li>不用return</li>
</ul>
<p>弊端：</p>
<ul>
<li><p>方法不能共享，每个实例都会创建一个新的对象<br>解决办法：可以将sayName方法写于类之外，然后this.sayName=全局的sayName<br>但当有很多方法时全局写太多方法会不优雅而且混乱</p>
</li>
<li><p>原型式模式</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</div><div class="line"></div><div class="line">&#125;</div><div class="line">Person.prototype.name = <span class="string">'abigale'</span></div><div class="line">Person.prototype.age = <span class="number">18</span></div><div class="line">Person.prototype.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.name)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<p>弊端：</p>
<ul>
<li>不能传参</li>
<li>构造函数模式 + 原型式模式 结合<ul>
<li>需要传参数的用构造函数模式</li>
<li>需要共享的用原型式模式</li>
</ul>
</li>
</ul>
<h3 id="new-的过程经历哪些步骤"><a href="#new-的过程经历哪些步骤" class="headerlink" title="new 的过程经历哪些步骤"></a>new 的过程经历哪些步骤</h3><ul>
<li>第一步: 创建一个Object对象实例。</li>
<li>第二步: 将构造函数的执行对象赋给新生成的这个实例。（也就是改变this的指向）</li>
<li>第三步: 执行构造函数中的代码</li>
<li>第四步: 返回新生成的对象实例</li>
</ul>
<h3 id="检测是否实例的各个方法"><a href="#检测是否实例的各个方法" class="headerlink" title="检测是否实例的各个方法"></a>检测是否实例的各个方法</h3><ul>
<li>instanceof</li>
<li>isPrototypeOf : Person.prototype.isPrototypeOf(person)</li>
<li>Object.getPrototypeOf() : Object.getPrototypeOf(person) == Person.prototype</li>
</ul>
<h3 id="检测是否有某个属性"><a href="#检测是否有某个属性" class="headerlink" title="检测是否有某个属性"></a>检测是否有某个属性</h3><ul>
<li>isOwnPrototype : person.isOwnPrototype(‘name’)</li>
<li>in : ‘name’ in person</li>
</ul>
<h2 id="构造函数原型实例原型链"><a href="#构造函数原型实例原型链" class="headerlink" title="构造函数原型实例原型链"></a>构造函数原型实例原型链</h2><p>理解：</p>
<ul>
<li>构造函数：用来在创建对象时初始化对象。特点：构造函数名一般为大写字母开头；与new运算符一起使用来实例化对象,其中属性需要用this,否则跟普通函数无差别</li>
<li>原型：构造函数在创建的过程中，系统自动创建出来与构造函数相关联的一个空的对象。可以由构造函数.prototype来访问到。</li>
<li>实例</li>
<li>继承</li>
<li><p>原型链：每一个对象都有自己的原型对象，原型对象本身也是对象，原型对象也有自己的原型对象，这样就形成了一个链式结构，叫做原型链。</p>
</li>
<li><p>构造函数，原型和实例的关系：每个构造函数都有一个原型对象，原型对象都包含一个指向构造函数的指针，而实例都包含一个指向原型对象的内部指针。</p>
</li>
<li><p>原型和实例的关系：instanceof 和 isPrototypeOf  </p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 判断A是否是B的实例，B是否是A的原型</span></div><div class="line">A <span class="keyword">instanceof</span> B</div><div class="line">B.prototype.isPrototypeOf(A)</div></pre></td></tr></table></figure>
</li>
</ul>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> Person()</div></pre></td></tr></table></figure>
<p>Person 为构造函数<br>p 为实例<br>Person.prototype 为原型</p>
<p>Person.prototype.constructor == Person<br>person.<strong>proto</strong> == Person.prototype</p>
<ul>
<li><p>使用new关键字调用函数（new ClassA(…)）的具体步骤：</p>
<ul>
<li>创建空对象:var obj = {};</li>
<li>设置新对象的constructor属性为构造函数的名称，设置新对象的<strong>proto</strong>属性指向构造函数的prototype对象:obj.<strong>proto</strong> = ClassA.prototype;</li>
<li>使用新对象调用函数，函数中的this被指向新实例对象：ClassA.call(obj);　　//{}.构造函数();          </li>
<li>将初始化完毕的新对象地址，保存到等号左边的变量中</li>
</ul>
</li>
</ul>
<blockquote>
<p>参考:<a href="http://blog.csdn.net/spicyboiledfish/article/details/71123162" target="_blank" rel="noopener">完整原型链详细图解（构造函数、原型、实例化对象）</a></p>
</blockquote>
<h3 id="prototype和proto的关系是什么"><a href="#prototype和proto的关系是什么" class="headerlink" title="prototype和proto的关系是什么"></a>prototype和proto的关系是什么</h3><p>一个类的实例 的隐式原型(<strong>proto</strong>)指向 类的原型(prototype)</p>
<h3 id="原型链图解"><a href="#原型链图解" class="headerlink" title="原型链图解"></a>原型链图解</h3><p><img src="/images/interview/01.basicJs/prototype.png" alt="prototype"></p>
<h2 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h2><ul>
<li><p>原型链：采用实例的方式去继承，但会有两个弊端：</p>
<ul>
<li>原型链中如果有变量是引用类型，该值会被共享</li>
<li>子类型无法向父类型传递参数</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Father</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">this</span>.property = <span class="literal">true</span>;</div><div class="line">&#125;</div><div class="line">Father.prototype.getFatherValue = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.property;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Son</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.sonProperty = <span class="literal">false</span>;</div><div class="line">&#125;</div><div class="line"><span class="comment">//继承 Father</span></div><div class="line">Son.prototype = <span class="keyword">new</span> Father();<span class="comment">//Son.prototype被重写,导致Son.prototype.constructor也一同被重写</span></div><div class="line">Son.prototype.getSonVaule = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.sonProperty;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> instance = <span class="keyword">new</span> Son();</div><div class="line">alert(instance.getFatherValue());<span class="comment">//true</span></div></pre></td></tr></table></figure>
</li>
<li><p>借用构造函数</p>
<ul>
<li>再也不会被共享，每次都是有自己一个方法有些浪费资源</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line"> <span class="function"><span class="keyword">function</span> <span class="title">Father</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.colors = [<span class="string">"red"</span>,<span class="string">"blue"</span>,<span class="string">"green"</span>];</div><div class="line">  &#125;</div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">Son</span>(<span class="params"></span>)</span>&#123;</div><div class="line">      Father.call(<span class="keyword">this</span>);<span class="comment">//继承了Father,且向父类型传递参数</span></div><div class="line">  &#125;</div><div class="line">  <span class="keyword">var</span> instance1 = <span class="keyword">new</span> Son();</div><div class="line">  instance1.colors.push(<span class="string">"black"</span>);</div><div class="line">  <span class="built_in">console</span>.log(instance1.colors);<span class="comment">//"red,blue,green,black"</span></div><div class="line"></div><div class="line">  <span class="keyword">var</span> instance2 = <span class="keyword">new</span> Son();</div><div class="line">  <span class="built_in">console</span>.log(instance2.colors);<span class="comment">//"red,blue,green" 可见引用类型值是独立的</span></div><div class="line">  <span class="string">``</span><span class="string">` </span></div><div class="line"><span class="string"></span></div><div class="line"><span class="string">* 组合继承：使用原型链实现对原型属性和方法的继承,通过借用构造函数来实现对实例属性的继承.</span></div><div class="line"><span class="string">	</span></div><div class="line"><span class="string">	`</span><span class="string">``</span>js</div><div class="line">	<span class="function"><span class="keyword">function</span> <span class="title">Father</span>(<span class="params">name</span>)</span>&#123;</div><div class="line">	    <span class="keyword">this</span>.name = name;</div><div class="line">	    <span class="keyword">this</span>.colors = [<span class="string">"red"</span>,<span class="string">"blue"</span>,<span class="string">"green"</span>];</div><div class="line">	&#125;</div><div class="line">	Father.prototype.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	    alert(<span class="keyword">this</span>.name);</div><div class="line">	&#125;;</div><div class="line">	<span class="function"><span class="keyword">function</span> <span class="title">Son</span>(<span class="params">name,age</span>)</span>&#123;</div><div class="line">	    Father.call(<span class="keyword">this</span>,name);<span class="comment">//继承实例属性，第一次调用Father()</span></div><div class="line">	    <span class="keyword">this</span>.age = age;</div><div class="line">	&#125;</div><div class="line">	Son.prototype = <span class="keyword">new</span> Father();<span class="comment">//继承父类方法,第二次调用Father()</span></div><div class="line">	Son.prototype.sayAge = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	    alert(<span class="keyword">this</span>.age);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">var</span> instance1 = <span class="keyword">new</span> Son(<span class="string">"louis"</span>,<span class="number">5</span>);</div><div class="line">	instance1.colors.push(<span class="string">"black"</span>);</div><div class="line">	<span class="built_in">console</span>.log(instance1.colors);<span class="comment">//"red,blue,green,black"</span></div><div class="line">	instance1.sayName();<span class="comment">//louis</span></div><div class="line">	instance1.sayAge();<span class="comment">//5</span></div><div class="line">	</div><div class="line">	<span class="keyword">var</span> instance1 = <span class="keyword">new</span> Son(<span class="string">"zhai"</span>,<span class="number">10</span>);</div><div class="line">	<span class="built_in">console</span>.log(instance1.colors);<span class="comment">//"red,blue,green"</span></div><div class="line">	instance1.sayName();<span class="comment">//zhai</span></div><div class="line">	instance1.sayAge();<span class="comment">//10</span></div></pre></td></tr></table></figure>
</li>
<li><p>原型式继承:如果你指向让一个对象与另一个对象保持类似。（有一个对象可以作为另一个对象的基础）<br>但与原型模型一样，引用类型会被共享</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Object.create 的实现方式</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">object</span>(<span class="params">o</span>)</span></div><div class="line"><span class="function"></span>&#123;</div><div class="line"><span class="comment">//   var F = function()&#123;&#125;</span></div><div class="line"><span class="comment">//   F.prototype = o;</span></div><div class="line"><span class="comment">//   return new F()</span></div><div class="line">  <span class="keyword">var</span> F = &#123;&#125;</div><div class="line">  F.__proto__ = o.prototype;</div><div class="line">  o.call(F)</div><div class="line">  <span class="keyword">return</span> F</div><div class="line">&#125;</div><div class="line">A = object(B)</div></pre></td></tr></table></figure>
</li>
<li><p>寄生式继承：除了以另一个对象作为基础来继承，还为新对象添加新属性或方法，和借用构造函数模式相似</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">createAnother</span>(<span class="params">original</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> clone = object(original);<span class="comment">//通过调用object函数创建一个新对象</span></div><div class="line">    clone.sayHi = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="comment">//以某种方式来增强这个对象</span></div><div class="line">        alert(<span class="string">"hi"</span>);</div><div class="line">    &#125;;</div><div class="line">    <span class="keyword">return</span> clone;<span class="comment">//返回这个对象</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h2><h3 id="考点"><a href="#考点" class="headerlink" title="考点"></a>考点</h3><ul>
<li>执行环境</li>
<li>作用域链(变量)：本地活动对象 全局变量对象</li>
<li>闭包中this的指向</li>
<li>闭包的危害</li>
</ul>
<h3 id="闭包是什么"><a href="#闭包是什么" class="headerlink" title="闭包是什么"></a>闭包是什么</h3><p>一个函数里包含着另一个函数，内部函数可以访问函数外面的变量</p>
<h3 id="闭包的作用-为什么要有闭包这种东西出现"><a href="#闭包的作用-为什么要有闭包这种东西出现" class="headerlink" title="闭包的作用/为什么要有闭包这种东西出现"></a>闭包的作用/为什么要有闭包这种东西出现</h3><p>闭包通常用来创建内部变量，使得这些变量不能被外部随意修改，同时又可以通过指定的函数接口来操作</p>
<h3 id="闭包有什么副作用"><a href="#闭包有什么副作用" class="headerlink" title="闭包有什么副作用"></a>闭包有什么副作用</h3><p>内存泄露<br>因为内部函数引用了外部函数某个值时，这个值不管函数执行不执行都在内存中，解决办法是将该值设为null</p>
<h3 id="有这样一个函数，如何让b-访问不到a"><a href="#有这样一个函数，如何让b-访问不到a" class="headerlink" title="有这样一个函数，如何让b 访问不到a"></a>有这样一个函数，如何让b 访问不到a</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> a=<span class="literal">undefined</span>;</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>)</span>&#123;</div><div class="line">&#125;&#125;</div></pre></td></tr></table></figure>
<p>js只有函数作用域，可以将a包裹在function或者IIFE中</p>
<h3 id="其他题目"><a href="#其他题目" class="headerlink" title="其他题目"></a>其他题目</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params"></span>)</span>&#123;</div><div class="line">　<span class="keyword">var</span> n=<span class="number">999</span>;</div><div class="line">　nAdd=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;n+=<span class="number">1</span>&#125;</div><div class="line">　<span class="function"><span class="keyword">function</span> <span class="title">f2</span>(<span class="params"></span>)</span>&#123;</div><div class="line">　　alert(n);</div><div class="line">　&#125;</div><div class="line">　<span class="keyword">return</span> f2;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> result=f1();</div><div class="line">result(); <span class="comment">// 999</span></div><div class="line">nAdd();</div><div class="line">result(); <span class="comment">// 1000</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">creactFun</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> result = <span class="keyword">new</span> <span class="built_in">Array</span>()</div><div class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)&#123;</div><div class="line">    result[i] = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">      <span class="keyword">return</span> i;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">creactFun</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> result = <span class="keyword">new</span> <span class="built_in">Array</span>()</div><div class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)&#123;</div><div class="line">    result[i] = <span class="function"><span class="keyword">function</span>(<span class="params">num</span>)</span>&#123;</div><div class="line">      <span class="keyword">return</span> num; <span class="comment">// 注意这样是错的 这样是返回一个值，上面返回是一个函数</span></div><div class="line">    &#125;(i)</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">creactFun</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> result = <span class="keyword">new</span> <span class="built_in">Array</span>()</div><div class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)&#123;</div><div class="line">    result[i] = <span class="function"><span class="keyword">function</span>(<span class="params">num</span>)</span>&#123;</div><div class="line">      <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="keyword">return</span> num;</div><div class="line">      &#125;</div><div class="line">    &#125;(i)</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> name = <span class="string">"the window"</span>;</div><div class="line"><span class="keyword">var</span> abc = &#123;</div><div class="line">  name: <span class="string">"my object"</span>,</div><div class="line">  getNameFunc: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="keyword">return</span> <span class="keyword">this</span>.name</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">var</span> name = <span class="string">"the window"</span>;</div><div class="line"><span class="keyword">var</span> abc = &#123;</div><div class="line">  name: <span class="string">"my object"</span>,</div><div class="line">  getNameFunc: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.name</div><div class="line">  &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h2 id="事件流模型"><a href="#事件流模型" class="headerlink" title="事件流模型"></a>事件流模型</h2><h3 id="Javascript-的事件流模型都有什么？优点？"><a href="#Javascript-的事件流模型都有什么？优点？" class="headerlink" title="Javascript 的事件流模型都有什么？优点？"></a>Javascript 的事件流模型都有什么？优点？</h3><ul>
<li>“DOM 事件流”：三个阶段：事件捕捉，目标阶段，事件冒泡</li>
<li>“事件捕捉”：事件由最不具体的节点先接收，然后逐级向下，一直到最具体的</li>
<li>“事件冒泡”：事件开始由最具体的元素接受，然后逐级向上传播<h3 id="事件捕获"><a href="#事件捕获" class="headerlink" title="事件捕获"></a>事件捕获</h3></li>
</ul>
<blockquote>
<p>事件捕获是从外层元素到目标元素的过程，事件冒泡是从目标元素到外层元素的过程</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"wrapper"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"event"</span>&gt;</span>事件处理程序<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> wrapper = <span class="built_in">document</span>.getElementById(<span class="string">'wrapper'</span>);</div><div class="line"><span class="keyword">var</span> event = <span class="built_in">document</span>.getElementById(<span class="string">'event'</span>);</div><div class="line"><span class="comment">// 理解事件流</span></div><div class="line">wrapper.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line"><span class="built_in">console</span>.log(<span class="string">'捕获阶段执行父元素wrapper的事件处理程序'</span>);</div><div class="line">&#125;, <span class="literal">true</span>); <span class="comment">// true - 事件句柄在捕获阶段执行</span></div><div class="line">	</div><div class="line">wrapper.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line"><span class="built_in">console</span>.log(<span class="string">'冒泡阶段执行父元素wrapper的事件处理程序'</span>);</div><div class="line">&#125;, <span class="literal">false</span>); <span class="comment">// false- 默认。事件句柄在冒泡阶段执行</span></div><div class="line">	</div><div class="line">event.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line"><span class="built_in">console</span>.log(<span class="string">'捕获阶段执行子元素event的事件处理程序'</span>);</div><div class="line">&#125;, <span class="literal">true</span>);</div><div class="line">	</div><div class="line">event.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line"><span class="built_in">console</span>.log(<span class="string">'冒泡阶段执行子元素event的事件处理程序'</span>);</div><div class="line">&#125;, <span class="literal">false</span>);</div></pre></td></tr></table></figure>
<ul>
<li>输出结果</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">捕获阶段执行父元素wrapper的事件处理程序</div><div class="line">捕获阶段执行子元素event的事件处理程序</div><div class="line">冒泡阶段执行父元素wrapper的事件处理程序</div><div class="line">冒泡阶段执行子元素event的事件处理程序</div></pre></td></tr></table></figure>
<h3 id="阻止冒泡"><a href="#阻止冒泡" class="headerlink" title="阻止冒泡"></a>阻止冒泡</h3><blockquote>
<p>事件冒泡可以形象地比喻为把一颗石头投入水中，泡泡会一直从水底冒出水面。也就是说，事件会从最内层的元素开始发生，一直向上传播，直到document对象。</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"propagation"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"proEvent"</span>&gt;</span>阻止冒泡处理程序<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 阻止冒泡</span></div><div class="line"><span class="keyword">var</span> propagation = <span class="built_in">document</span>.getElementById(<span class="string">'propagation'</span>);</div><div class="line"><span class="keyword">var</span> proEvent = <span class="built_in">document</span>.getElementById(<span class="string">'proEvent'</span>);</div><div class="line">propagation.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'捕获阶段执行父元素propagation的事件处理程序'</span>);</div><div class="line">&#125;, <span class="literal">true</span>);</div><div class="line"></div><div class="line">propagation.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'冒泡阶段执行父元素propagation的事件处理程序'</span>);</div><div class="line">&#125;, <span class="literal">false</span>);</div><div class="line"></div><div class="line">proEvent.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'捕获阶段执行子元素proEvent的事件处理程序'</span>);</div><div class="line">&#125;, <span class="literal">true</span>);</div><div class="line"></div><div class="line">proEvent.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">    e.stopPropagation();</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'冒泡阶段执行子元素proEvent的事件处理程序'</span>);</div><div class="line">&#125;, <span class="literal">false</span>);</div></pre></td></tr></table></figure>
<ul>
<li>输出结果<br>捕获阶段执行父元素wrapper的事件处理程序<br>捕获阶段执行子元素event的事件处理程序<br>冒泡阶段执行父元素wrapper的事件处理程序</li>
</ul>
<h3 id="事件委托"><a href="#事件委托" class="headerlink" title="事件委托"></a>事件委托</h3><blockquote>
<p>事件委托就是把一个元素响应事件（click、keydown……）的函数委托到另一个元素 / 委托（代理）事件是那些被绑定到父级元素的事件，但是只有当满足一定匹配条件时才会被挪。这是靠事件的冒泡机制来实现的</p>
</blockquote>
<h3 id="事件委托有点"><a href="#事件委托有点" class="headerlink" title="事件委托有点"></a>事件委托有点</h3><ul>
<li>可以大量节省内存占用，减少事件注册，比如在table上代理所有td的click事件就非常棒 </li>
<li>可以实现当新增子对象时无需再次对其绑定事件，对于动态内容部分尤为合适</li>
</ul>
<h3 id="事件委托缺点"><a href="#事件委托缺点" class="headerlink" title="事件委托缺点"></a>事件委托缺点</h3><ul>
<li>事件代理的应用常用应该仅限于上述需求下，如果把所有事件都用代理就可能会出现事件误判，即本不应用触发事件的被绑上了事件。</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>apple<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>banana<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>peal<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>cat<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>rabbit<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 事件委托</span></div><div class="line"><span class="keyword">var</span> li = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'li'</span>);</div><div class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; li.length; i++) &#123;</div><div class="line">    li[i].setAttribute(<span class="string">'i'</span>, i + <span class="number">1</span>);</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> ul = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'ul'</span>)[<span class="number">0</span>];</div><div class="line">ul.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> target = e.target;</div><div class="line">    <span class="keyword">if</span> (e.target &amp;&amp; e.target.nodeName.toUpperCase() == <span class="string">'LI'</span>) &#123;</div><div class="line">        <span class="keyword">var</span> b = e.target.getAttribute(<span class="string">'i'</span>);</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">'这是第'</span> + b + <span class="string">'个&lt;li&gt;元素'</span>);</div><div class="line">    &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> table = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'table'</span>)[<span class="number">0</span>];</div><div class="line">table.onclick= <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> target = e.target||e.srcElement;</div><div class="line">    <span class="keyword">if</span>(target.nodeName.toLowerCase()==<span class="string">'td'</span>)&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">'你点中一行'</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="target-和-currentTarget-的-区别"><a href="#target-和-currentTarget-的-区别" class="headerlink" title="target 和 currentTarget 的 区别"></a>target 和 currentTarget 的 区别</h3><p>event.target指向引起触发事件的元素，而event.currentTarget则是事件绑定的元素，只有被点击的那个目标元素的event.target才会等于event.currentTarget。</p>
<blockquote>
<p>参考：<a href="http://www.calledt.com/target-and-currenttarget/" target="_blank" rel="noopener">event.target 和 event.currentTarget 的区别</a></p>
</blockquote>
<h2 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h2><h3 id="属性类型"><a href="#属性类型" class="headerlink" title="属性类型"></a>属性类型</h3><ul>
<li>数据属性：configurale,enumerable,writable,value</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> obj = &#123;</div><div class="line">  name:<span class="string">'abigale'</span>,</div><div class="line">  address:<span class="string">'shenzhen'</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">'name'</span>, &#123;</div><div class="line">  writable: <span class="literal">false</span></div><div class="line">&#125;) <span class="comment">// 不可修改name属性</span></div></pre></td></tr></table></figure>
<ul>
<li>访问器属性: configurale,enumerable,get,set</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> obj = &#123;</div><div class="line">  name:<span class="string">'abigale'</span>,</div><div class="line">  address:<span class="string">'shenzhen'</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">'subname'</span>, &#123;</div><div class="line">  get: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.name</div><div class="line">  &#125;,</div><div class="line">  set: <span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.name = <span class="string">'Yu '</span> + value</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h3 id="对象的深拷贝"><a href="#对象的深拷贝" class="headerlink" title="对象的深拷贝"></a>对象的深拷贝</h3><ul>
<li>Object.assign()</li>
<li>JSON.parse(JSON.stringify(data))</li>
</ul>
<h2 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h2><h3 id="箭头函数和普通函数的区别"><a href="#箭头函数和普通函数的区别" class="headerlink" title="箭头函数和普通函数的区别"></a>箭头函数和普通函数的区别</h3><h4 id="this-1"><a href="#this-1" class="headerlink" title="this"></a>this</h4><ul>
<li>普通函数this指向执行时调用它的对象</li>
<li>箭头函数this总是指向定义时所在的对象，而不是运行时所在的对象</li>
</ul>
<p>普通函数</p>
<blockquote>
<p>个人理解:可以理解为growUp并没有挂载到我们可以看到的对象里面 而是挂载到全局对象了 </p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">age</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> _this = <span class="keyword">this</span>;</div><div class="line">    <span class="keyword">this</span>.age = age;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>) <span class="comment">// Person &#123;age: 26&#125;</span></div><div class="line">    setTimeout(<span class="function"><span class="keyword">function</span> <span class="title">growUp</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>); <span class="comment">// window</span></div><div class="line">        _this.age++;</div><div class="line">    &#125;, <span class="number">1000</span>);</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> Person(<span class="number">26</span>);</div></pre></td></tr></table></figure>
<p>箭头函数</p>
<blockquote>
<p>个人理解：因为箭头函数没有自己的作用域，所以它在定义时就挂载了Person之上了。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">age</span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.age = age;</div><div class="line">    setTimeout(<span class="function"><span class="params">()</span>=&gt;</span> &#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>); <span class="comment">// Person</span></div><div class="line">        <span class="keyword">this</span>.age++;</div><div class="line">    &#125;, <span class="number">1000</span>);</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.age);</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> Person(<span class="number">26</span>);</div></pre></td></tr></table></figure>
<h4 id="返回值"><a href="#返回值" class="headerlink" title="返回值"></a>返回值</h4><p>只有多行才需要返回值，一行则不需要</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> c = <span class="function">(<span class="params">a,b</span>) =&gt;</span> a+b</div></pre></td></tr></table></figure>
<h4 id="无arguments"><a href="#无arguments" class="headerlink" title="无arguments"></a>无arguments</h4><p>但有</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">n</span>) </span>&#123; </div><div class="line">  <span class="keyword">var</span> f = <span class="function">(<span class="params">...args</span>) =&gt;</span>  args[<span class="number">0</span>]+args.length; </div><div class="line">  <span class="keyword">return</span> f(n); </div><div class="line">&#125;</div><div class="line"></div><div class="line">foo(<span class="number">1</span>); <span class="comment">// 1</span></div></pre></td></tr></table></figure>
<h2 id="异步"><a href="#异步" class="headerlink" title="异步"></a>异步</h2><h3 id="了解JavaScript的异步吗？"><a href="#了解JavaScript的异步吗？" class="headerlink" title="了解JavaScript的异步吗？"></a>了解JavaScript的异步吗？</h3><ul>
<li>回调函数</li>
<li>事件监听</li>
<li>发布/订阅</li>
<li>Promises对象</li>
<li>setTimeOut</li>
<li>ajax</li>
</ul>
<h3 id="了解-Promise-吗？-简要地描述了一下-resolve、reject-函数和-then-方法"><a href="#了解-Promise-吗？-简要地描述了一下-resolve、reject-函数和-then-方法" class="headerlink" title="了解 Promise 吗？ 简要地描述了一下 resolve、reject 函数和 then 方法"></a>了解 Promise 吗？ 简要地描述了一下 resolve、reject 函数和 then 方法</h3><ul>
<li>Promise 是 ES6 的新特性，可以解决ES6新特性的问题。Promise构造函数接受一个函数作为参数，该函数包含两个参数：resolve 和 reject</li>
<li>resolve: 如果异步操作成功，调用resolve，状态从pending 变为 resolved</li>
<li>reject: 如果异步操作失败，调用reject，状态从pending 变为 rejected</li>
<li>then: 返回一个新的Promise对象，因此可以采用链式写法</li>
</ul>
<h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><h3 id="数组的方法有哪些？"><a href="#数组的方法有哪些？" class="headerlink" title="数组的方法有哪些？"></a>数组的方法有哪些？</h3><ul>
<li>pop()</li>
<li>push()</li>
<li>shift()</li>
<li>unshift()</li>
<li>slice()</li>
<li>splice()</li>
<li>join()</li>
</ul>
<p>字符串</p>
<ul>
<li>split() // 第一个参数：以什么分割， 第二个参数：设定返回的数组长度</li>
</ul>
<h2 id="数组的深拷贝"><a href="#数组的深拷贝" class="headerlink" title="数组的深拷贝"></a>数组的深拷贝</h2><ul>
<li>用push</li>
<li><p>用slice</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</div><div class="line"><span class="keyword">var</span> arr2 = arr.slice(<span class="number">0</span>)</div><div class="line">arr[<span class="number">2</span>] = <span class="number">5</span></div><div class="line"><span class="built_in">console</span>.log(arr)</div><div class="line"><span class="built_in">console</span>.log(arr2)</div></pre></td></tr></table></figure>
</li>
<li><p>JSON.stringify和JSON.parse转换<br>该方法的缺点：非标准Json格式无法拷贝以及兼容性问题</p>
</li>
</ul>
<h3 id="判断数组的方法"><a href="#判断数组的方法" class="headerlink" title="判断数组的方法"></a>判断数组的方法</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">isArray</span>(<span class="params">o</span>)</span>&#123;</div><div class="line">  <span class="keyword">if</span>(<span class="built_in">Array</span>.isArray(o) == <span class="literal">true</span> || <span class="built_in">Object</span>.prototype.toString.call(o) == <span class="string">'[Object Array]'</span>)&#123;</div><div class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="窗口位置"><a href="#窗口位置" class="headerlink" title="窗口位置"></a>窗口位置</h2><p>获取元素以下信息，可以参考<br><img src="/images/interview/01.basicJs/client.jpg" alt="client系列"><br><img src="/images/interview/01.basicJs/offset.jpg" alt="offset系列"><br><img src="/images/interview/01.basicJs/scroll.jpg" alt="scroll系列"></p>
<table>
<thead>
<tr>
<th>offset系列</th>
<th>client系列</th>
<th>scroll系列 </th>
</tr>
</thead>
<tbody>
<tr>
<td>offsetWidth</td>
<td>clientWidth</td>
<td>scrollWidth</td>
</tr>
<tr>
<td>offsetHeight</td>
<td>clientHeight</td>
<td>scrollHeight</td>
</tr>
<tr>
<td>offsetLeft</td>
<td>clientLeft</td>
<td>scrollLeft</td>
</tr>
<tr>
<td>offsetTop</td>
<td>clientTop</td>
<td>scrollTop</td>
</tr>
</tbody>
</table>
<ul>
<li>width: document.body.clientWidth</li>
<li>height: document.body.clientHeight</li>
</ul>
<h3 id="给定一个元素获取它相对于视图窗口的坐标"><a href="#给定一个元素获取它相对于视图窗口的坐标" class="headerlink" title="给定一个元素获取它相对于视图窗口的坐标"></a>给定一个元素获取它相对于视图窗口的坐标</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">调用 box.getBoundingClientRect() 返回</div><div class="line">&#123;</div><div class="line">  width: <span class="number">122</span>,</div><div class="line">  height: <span class="number">122</span>,</div><div class="line">  top: <span class="number">30</span>,</div><div class="line">  left: <span class="number">38</span>,</div><div class="line">  bottom: <span class="number">152</span>,</div><div class="line">  right: <span class="number">160</span>,</div><div class="line">  x: <span class="number">38</span>,</div><div class="line">  y: <span class="number">30</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>因此坐标可以从中获取</p>
<blockquote>
<p>参考：<a href="http://caibaojian.com/getelementposition.html" target="_blank" rel="noopener">JavaScript获取窗口位置和元素坐标</a></p>
</blockquote>
<h2 id="ES6"><a href="#ES6" class="headerlink" title="ES6"></a>ES6</h2><h3 id="ES6新特性，变化"><a href="#ES6新特性，变化" class="headerlink" title="ES6新特性，变化"></a>ES6新特性，变化</h3><blockquote>
<p>对ES6新特性看法：这些特性可以使写出的代码更加简洁。块级作用域的出现 ，使变量的命名更加安全和规范。新增的模块特性使语言本身能够实现静态化模块依赖，相比于使用requireJS等动态模块来说有更高的效率。只是从现有的规范的模块移植到ES6原生的模块还需要借助模块转换 工具（或者手动更改模块的写法）</p>
</blockquote>
<ul>
<li>let的作用域：变量只有在let的作用块有效 和const<br>  var:所在函数作用域 变量提升<br>  let:所在作用快 不会代码提升</li>
<li>数组的解构 对象的解构：从数组或对象中提取值，对它们进行赋值</li>
<li>对象的扩展 ：<strong>proto</strong> Object.setPrototypeOf(object,prototype) Object.getPrototypeOf()</li>
<li>Set数组：成员没有重复值  Map 键值对</li>
<li>函数默认值 rest参数</li>
<li>箭头函数：简化了写法；this指向所指对象 ；不能使用argument;不能使用call apply bind</li>
<li>for..of 循环</li>
<li>class 对象</li>
<li>Promise 是异步编程的一种解决方案</li>
<li>Module：import export</li>
</ul>
<h2 id="模块管理"><a href="#模块管理" class="headerlink" title="模块管理"></a>模块管理</h2><ul>
<li>CommonJS 为同步，AMD 为异步。</li>
<li>CommonJS 是一中规范，NodeJS中所采用的规范。</li>
<li>ES6 标准为JavaScript新语法，我们不需要做引入。</li>
<li>CommonJS 和 AMD 为运行时加载，而 ES6 为编译时加载。</li>
</ul>
<blockquote>
<p>参考: <a href="https://mp.weixin.qq.com/s/4r98f4IZ_8IqN7FrOEHv3g" target="_blank" rel="noopener">前端模块化</a></p>
</blockquote>
<h2 id="函数节流和函数反抖"><a href="#函数节流和函数反抖" class="headerlink" title="函数节流和函数反抖"></a>函数节流和函数反抖</h2><h3 id="函数防抖（debounce）"><a href="#函数防抖（debounce）" class="headerlink" title="函数防抖（debounce）"></a>函数防抖（debounce）</h3><blockquote>
<p>当调用动作过n毫秒后，才会执行该动作，若在这n毫秒内又调用此动作则将重新计算执行时间</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">_debounce</span>(<span class="params">fn,wait</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> timer = <span class="literal">null</span>;</div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        clearTimeout(timer)</div><div class="line">        timer = setTimeout(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</div><div class="line">            fn()</div><div class="line">        &#125;,wait)</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="built_in">window</span>.onscroll = _debounce(_log,<span class="number">500</span>)</div></pre></td></tr></table></figure>
<h3 id="函数节流（throttle）"><a href="#函数节流（throttle）" class="headerlink" title="函数节流（throttle）"></a>函数节流（throttle）</h3><blockquote>
<p>预先设定一个执行周期，当调用动作的时刻大于等于执行周期则执行该动作，然后进入下一个新周期</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">_throttle</span>(<span class="params">fn,wait,time</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> previous = <span class="literal">null</span>; <span class="comment">//记录上一次运行的时间</span></div><div class="line">    <span class="keyword">var</span> timer = <span class="literal">null</span>;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line"></div><div class="line">        <span class="keyword">if</span>(!previous) previous = now;</div><div class="line">        <span class="comment">//当上一次执行的时间与当前的时间差大于设置的执行间隔时长的话，就主动执行一次</span></div><div class="line">        <span class="keyword">if</span>(now - previous &gt; time)&#123;</div><div class="line">            clearTimeout(timer);</div><div class="line">            fn();</div><div class="line">            previous = now;<span class="comment">// 执行函数后，马上记录当前时间</span></div><div class="line">        &#125;<span class="keyword">else</span>&#123;</div><div class="line">            clearTimeout(timer);</div><div class="line">            timer = setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">                fn();</div><div class="line">            &#125;,wait);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">_log</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="number">1</span>)</div><div class="line">&#125;</div><div class="line"><span class="built_in">window</span>.onscroll = _debounce(_log,<span class="number">500</span>,<span class="number">2000</span>)</div></pre></td></tr></table></figure>
<blockquote>
<p>参考: <a href="https://segmentfault.com/a/1190000008768202" target="_blank" rel="noopener">函数节流与函数防抖</a></p>
</blockquote>
<h3 id="resize和scroll事件的性能优化"><a href="#resize和scroll事件的性能优化" class="headerlink" title="resize和scroll事件的性能优化"></a>resize和scroll事件的性能优化</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'resize'</span>, () =&gt; &#123;</div><div class="line">  <span class="keyword">if</span>(<span class="keyword">this</span>.timeout)</div><div class="line">  clearTimeout(<span class="keyword">this</span>.timeout)</div><div class="line">  <span class="keyword">this</span>.timeout = setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="number">11</span>);</div><div class="line">  &#125;, <span class="number">1000</span>);</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h2 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h2><table>
<thead>
<tr>
<th>字符</th>
<th>等同于    描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>.</td>
<td>[^\n\r]    除了换行和回车之外的任意字符</td>
</tr>
<tr>
<td>\d</td>
<td>[0-9]    数字字符</td>
</tr>
<tr>
<td>\D</td>
<td>[^0-9]    非数字字符</td>
</tr>
<tr>
<td>\s</td>
<td>[ \t\n\x0B\f\r]    空白字符</td>
</tr>
<tr>
<td>\S</td>
<td>[^ \t\n\x0B\f\r]    非空白字符</td>
</tr>
<tr>
<td>\w</td>
<td>[a-zA-Z_0-9]    单词字符(所有的字母)</td>
</tr>
<tr>
<td>\W</td>
<td>[^a-zA-Z_0-9]    非单词字符</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>代码</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>?</td>
<td>软性量词</td>
<td>出现零次或一次</td>
</tr>
<tr>
<td>*</td>
<td>软性量词</td>
<td>出现零次或多次(任意次)</td>
</tr>
<tr>
<td>+</td>
<td>软性量词</td>
<td>出现一次或多次（至道一次）</td>
</tr>
<tr>
<td>{n}</td>
<td>硬性量词</td>
<td>对应零次或者n次</td>
</tr>
<tr>
<td>{n,m}</td>
<td>软性量词</td>
<td>至少出现n次但不超过m次</td>
</tr>
<tr>
<td>{n,}</td>
<td>软性量词</td>
<td>至少出现n次(+的升级版)</td>
</tr>
</tbody>
</table>
<h3 id="贪婪匹配-和-非贪婪匹配"><a href="#贪婪匹配-和-非贪婪匹配" class="headerlink" title="贪婪匹配 和 非贪婪匹配"></a>贪婪匹配 和 非贪婪匹配</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">源字符串：aa&lt;div&gt;test1&lt;<span class="regexp">/div&gt;bb&lt;div&gt;test2&lt;/</span>div&gt;cc</div><div class="line">正则表达式一：&lt;div&gt;.*<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></div><div class="line">匹配结果一：&lt;div&gt;test1&lt;<span class="regexp">/div&gt;bb&lt;div&gt;test2&lt;/</span>div&gt;</div><div class="line">正则表达式二：&lt;div&gt;.*?<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></div><div class="line">匹配结果二：&lt;div&gt;test1&lt;<span class="regexp">/div&gt;（这里指的是一次匹配结果，所以没包括&lt;div&gt;test2&lt;/</span>div&gt;）</div></pre></td></tr></table></figure>
<blockquote>
<p>参考:<a href="https://blog.csdn.net/lxcnn/article/details/4756030" target="_blank" rel="noopener">正则基础之——贪婪与非贪婪模式</a></p>
</blockquote>
<h3 id="全文单词首字母大写"><a href="#全文单词首字母大写" class="headerlink" title="全文单词首字母大写"></a>全文单词首字母大写</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> a = <span class="string">"i am elle dsa jdfkhdsjghdf"</span></div><div class="line"><span class="keyword">let</span> d = a.replace(<span class="regexp">/\b([a-z])([a-z]*)\b/ig</span>,(str,$<span class="number">1</span>,$<span class="number">2</span>)=&gt;&#123;</div><div class="line">  <span class="keyword">return</span> $<span class="number">1.</span>toUpperCase()+$<span class="number">2.</span>toLowerCase()</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h3 id="写一个-function，清除字符串前后的空格。（兼容所有浏览器）"><a href="#写一个-function，清除字符串前后的空格。（兼容所有浏览器）" class="headerlink" title="写一个 function，清除字符串前后的空格。（兼容所有浏览器）"></a>写一个 function，清除字符串前后的空格。（兼容所有浏览器）</h3><p>使用自带接口 trim()，考虑兼容性：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> (!<span class="built_in">String</span>.prototype.trim) &#123;</div><div class="line"> <span class="built_in">String</span>.prototype.trim = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line"> <span class="keyword">return</span> <span class="keyword">this</span>.replace(<span class="regexp">/^\s+/</span>, <span class="string">""</span>).replace(<span class="regexp">/\s+$/</span>,<span class="string">""</span>);</div><div class="line"> &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// test the function</span></div><div class="line"><span class="keyword">var</span> str = <span class="string">" \t\n test string "</span>.trim();</div><div class="line">alert(str == <span class="string">"test string"</span>); <span class="comment">// alerts "true"</span></div></pre></td></tr></table></figure>
<h3 id="把-aa-bb-cc-变为-aaBbCc"><a href="#把-aa-bb-cc-变为-aaBbCc" class="headerlink" title="把 aa_bb_cc 变为 aaBbCc"></a>把 <code>aa_bb_cc</code> 变为 <code>aaBbCc</code></h3><h4 id="方法一：正则-注意正则表达式中加不加括号的区别"><a href="#方法一：正则-注意正则表达式中加不加括号的区别" class="headerlink" title="方法一：正则:注意正则表达式中加不加括号的区别"></a>方法一：正则:注意正则表达式中加不加括号的区别</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> str = <span class="string">"aa_bb_cc"</span>;</div><div class="line"></div><div class="line"><span class="keyword">let</span> newStr = str.replace(<span class="regexp">/_[a-z]/g</span>, (str, index, allStr) =&gt; &#123;</div><div class="line">  <span class="keyword">return</span> str[<span class="number">1</span>].toUpperCase();</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(newStr);</div></pre></td></tr></table></figure>
<h4 id="方法二：采用正则"><a href="#方法二：采用正则" class="headerlink" title="方法二：采用正则"></a>方法二：采用正则</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> reg = <span class="regexp">/([a-z])([a-z]*)_?/gi</span>;</div><div class="line"></div><div class="line"><span class="keyword">let</span> newStr = <span class="string">"aa_bb_cc"</span>.replace(reg, (str, p1, p2) =&gt; &#123;</div><div class="line">  <span class="keyword">return</span> p1.toUpperCase() + p2;</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="keyword">let</span> newStr1 = newStr.replace(<span class="regexp">/^(\w)(\w+)$/</span>, (str, p1, p2) =&gt; &#123;</div><div class="line">  <span class="keyword">return</span> p1.toLowerCase() + p2;</div><div class="line">&#125;);</div><div class="line"><span class="built_in">console</span>.log(newStr1);</div></pre></td></tr></table></figure>
<h4 id="方法三：采用数组分割"><a href="#方法三：采用数组分割" class="headerlink" title="方法三：采用数组分割"></a>方法三：采用数组分割</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">combo</span>(<span class="params">msg</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> arr = msg.split(<span class="string">"-"</span>);</div><div class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt; arr.length; i++) &#123;</div><div class="line">    arr[i] =</div><div class="line">      arr[i].charAt(<span class="number">0</span>).toUpperCase() + arr[i].substr(<span class="number">1</span>, arr[i].length - <span class="number">1</span>);</div><div class="line">  &#125;</div><div class="line">  msg = arr.join(<span class="string">""</span>);</div><div class="line">  <span class="keyword">return</span> msg;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="var-numberArray-3-6-2-4-1-5-实现对该数组的倒排，输出-5-1-4-2-6-3-实现对该数组的降序排列，输出-6-5-4-3-2-1"><a href="#var-numberArray-3-6-2-4-1-5-实现对该数组的倒排，输出-5-1-4-2-6-3-实现对该数组的降序排列，输出-6-5-4-3-2-1" class="headerlink" title="var numberArray = [3,6,2,4,1,5]; 实现对该数组的倒排，输出[5,1,4,2,6,3];实现对该数组的降序排列，输出[6,5,4,3,2,1]"></a>var numberArray = [3,6,2,4,1,5]; 实现对该数组的倒排，输出[5,1,4,2,6,3];实现对该数组的降序排列，输出[6,5,4,3,2,1]</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 倒排</span></div><div class="line">numberArray.reverse();</div><div class="line"></div><div class="line"><span class="comment">// 降序</span></div><div class="line">numberArray.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (a &gt; b) &#123;</div><div class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</div><div class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (a &lt; b) &#123;</div><div class="line">    <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">  &#125; <span class="keyword">else</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">  &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="输出今天的日期，以-YYYY-MM-DD-的方式，比如今天是-2017-年-9-月-13-日，则输出-2017-09-13"><a href="#输出今天的日期，以-YYYY-MM-DD-的方式，比如今天是-2017-年-9-月-13-日，则输出-2017-09-13" class="headerlink" title="输出今天的日期，以 YYYY-MM-DD 的方式，比如今天是 2017 年 9 月 13 日，则输出 2017-09-13"></a>输出今天的日期，以 YYYY-MM-DD 的方式，比如今天是 2017 年 9 月 13 日，则输出 2017-09-13</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> d = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line"><span class="comment">// 获取年，getFullYear()返回4位的数字</span></div><div class="line"><span class="keyword">var</span> year = d.getFullYear();</div><div class="line"><span class="comment">// 获取月，月份比较特殊，0是1月，11是12月</span></div><div class="line"><span class="keyword">var</span> month = d.getMonth() + <span class="number">1</span>;</div><div class="line"><span class="comment">// 变成两位</span></div><div class="line">month = month &lt; <span class="number">10</span> ? <span class="string">'0'</span> + month : month;</div><div class="line"><span class="comment">// 获取日</span></div><div class="line"><span class="keyword">var</span> day = d.getDate();</div><div class="line">day = day &lt; <span class="number">10</span> ? <span class="string">'0'</span> + day : day;</div><div class="line">alert(year + <span class="string">'-'</span> + month + <span class="string">'-'</span> + day);</div></pre></td></tr></table></figure>
<h3 id="将字符串”-id-name-”中的-id-替换成-10，-name-替换成-Tony-（使用正则表达式）"><a href="#将字符串”-id-name-”中的-id-替换成-10，-name-替换成-Tony-（使用正则表达式）" class="headerlink" title="将字符串”{$id}{$name}”中的{$id}替换成 10，{$name}替换成 Tony （使用正则表达式）"></a>将字符串”<tr><td>{$id}</td><td>{$name}</td></tr>”中的{$id}替换成 10，{$name}替换成 Tony （使用正则表达式）</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">”&lt;tr&gt;<span class="xml"><span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;$id&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><span class="xml"><span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;$id&#125;_&#123;$name&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span>”</div><div class="line">.replace(<span class="regexp">/&#123;\$id&#125;/g</span>, ’<span class="number">10</span>’).replace(<span class="regexp">/&#123;\$name&#125;/g</span>, ‘Tony’);</div></pre></td></tr></table></figure>
<h3 id="写一个函数，实现-括号里面的替换"><a href="#写一个函数，实现-括号里面的替换" class="headerlink" title="写一个函数，实现{}括号里面的替换"></a>写一个函数，实现{}括号里面的替换</h3><blockquote>
<p>当正则表达式里有字符串时，采用new RegExp的方法</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">temp</span>(<span class="params">str,obj</span>) </span>&#123;</div><div class="line">  <span class="keyword">let</span> re,newStr=str;</div><div class="line">  <span class="built_in">Object</span>.keys(obj).forEach(<span class="function"><span class="params">it</span> =&gt;</span> &#123;</div><div class="line">    re = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">`&#123;(<span class="subst">$&#123;it&#125;</span>)&#125;`</span>,<span class="string">'g'</span>)</div><div class="line">    str =  str.replace(re,obj[it])</div><div class="line">  &#125;);</div><div class="line">  <span class="keyword">return</span> str;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> a = temp(<span class="string">'我的名字是&#123;name&#125;,我在&#123;address&#125;'</span>,&#123;<span class="attr">name</span>:<span class="string">'abigale'</span>,<span class="attr">address</span>:<span class="string">'广东深圳'</span>&#125;)</div></pre></td></tr></table></figure>
<h2 id="兼容性"><a href="#兼容性" class="headerlink" title="兼容性"></a>兼容性</h2><ul>
<li><p>JavaScript兼容性问题</p>
<ul>
<li>标准的事件绑定中绑定事件的方法函数为 addEventListener,而IE使用的是attachEvent</li>
<li>事件处理中非常有用的event属性获得亦不相同，获得目标元素ie为e.srcElement 标准浏览器为e.target</li>
<li>在ie中是不能操作tr的innerHtml的</li>
<li>ie日期函数处理与其它浏览器不大一致，比如： var year= new Date().getYear(); 在IE中会获得当前年，但是在firefox中则会获得当前年与1900的差值。</li>
<li>获得DOM节点的方法有所差异，其获得子节点方法不一致。IE:parentElement.children;Firefox:parentNode.childNodes</li>
<li>当html中节点缺失时，IE和Firefox对parentNode的解释不同。例如:<br><code>&lt;form&gt;  &lt;table&gt;   &lt;input/&gt;  &lt;/table&gt; &lt;/form&gt;</code>IE：input.parentNode的值为空节点 Firefox：input.parentNode的值为form 解决方法：Firefox中节点没有removeNode方法，必须使用如下方法 node.parentNode.removeChild(node)</li>
<li>关于AJAX的实现上亦有所不同；</li>
</ul>
</li>
<li><p>解决浏览器兼容性一些常用的库</p>
<ul>
<li>normalize.css  ： 解决CSS兼容问题</li>
<li>excanvas.js    : 解决IE6-IE8不能采用canvas问题</li>
<li>html5shiv.js   ： 解决IE6-IE8不能使用html5问题</li>
<li>respond.js     ： 解决响应式布局问题</li>
</ul>
</li>
</ul>
<blockquote>
<p>参考:<a href="http://www.jianshu.com/p/f416b6ebd993" target="_blank" rel="noopener">解决浏览器兼容性一些常用的库</a></p>
</blockquote>
<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><h3 id="原生-js-怎么获取某个类名的所有元素"><a href="#原生-js-怎么获取某个类名的所有元素" class="headerlink" title="原生 js 怎么获取某个类名的所有元素"></a>原生 js 怎么获取某个类名的所有元素</h3><ul>
<li>document.querySelectorAll()</li>
<li><p>document.getElementByClassName()</p>
</li>
<li><p>querySelector()返回文档中匹配指定 CSS 选择器的一个元素,如</p>
<ul>
<li>document.querySelector(‘p’)</li>
<li>document.querySelector(‘.aa’)</li>
<li>document.querySelector(‘#aa’)</li>
</ul>
</li>
</ul>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/JavaScript/" rel="tag"># JavaScript</a>
          
            <a href="/tags/interview/" rel="tag"># interview</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/05/23/Promise/" rel="next" title="promise 异步请求方法">
                <i class="fa fa-chevron-left"></i> promise 异步请求方法
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Overview
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/dear.png"
               alt="Abigale" />
          <p class="site-author-name" itemprop="name">Abigale</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
           
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">52</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">4</span>
                <span class="site-state-item-name">categories</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">27</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#DOM-和-BOM"><span class="nav-number">1.</span> <span class="nav-text">DOM 和 BOM</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#arguments"><span class="nav-number">2.</span> <span class="nav-text">arguments</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#转换为一个真正的Array："><span class="nav-number">2.1.</span> <span class="nav-text">转换为一个真正的Array：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#关于类型"><span class="nav-number">2.2.</span> <span class="nav-text">关于类型</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数据类型"><span class="nav-number">3.</span> <span class="nav-text">数据类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#基础数据类型"><span class="nav-number">3.1.</span> <span class="nav-text">基础数据类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#引用数据类型"><span class="nav-number">3.2.</span> <span class="nav-text">引用数据类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#null-和-undefined-的异同"><span class="nav-number">3.3.</span> <span class="nav-text">null 和 undefined 的异同</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#检测类型的方法"><span class="nav-number">3.4.</span> <span class="nav-text">检测类型的方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#类型转换，判断下列的真假"><span class="nav-number">3.5.</span> <span class="nav-text">类型转换，判断下列的真假</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#执行环境和作用域"><span class="nav-number">4.</span> <span class="nav-text">执行环境和作用域</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#js-的作用域有几种？"><span class="nav-number">4.1.</span> <span class="nav-text">js 的作用域有几种？</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#this"><span class="nav-number">5.</span> <span class="nav-text">this</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#this有哪些应用场景"><span class="nav-number">5.1.</span> <span class="nav-text">this有哪些应用场景</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Tips"><span class="nav-number">5.2.</span> <span class="nav-text">Tips</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#普通对象函数的this"><span class="nav-number">5.3.</span> <span class="nav-text">普通对象函数的this</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#闭包或普通函数的this"><span class="nav-number">5.4.</span> <span class="nav-text">闭包或普通函数的this</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#构造函数this"><span class="nav-number">5.5.</span> <span class="nav-text">构造函数this</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#匿名函数的this"><span class="nav-number">5.6.</span> <span class="nav-text">匿名函数的this</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#创建对象-类"><span class="nav-number">6.</span> <span class="nav-text">创建对象(类)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#采用ES5创建对象-类"><span class="nav-number">6.1.</span> <span class="nav-text">采用ES5创建对象/类</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#方法：记住各种弊端"><span class="nav-number">6.1.1.</span> <span class="nav-text">方法：记住各种弊端</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#new-的过程经历哪些步骤"><span class="nav-number">6.2.</span> <span class="nav-text">new 的过程经历哪些步骤</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#检测是否实例的各个方法"><span class="nav-number">6.3.</span> <span class="nav-text">检测是否实例的各个方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#检测是否有某个属性"><span class="nav-number">6.4.</span> <span class="nav-text">检测是否有某个属性</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#构造函数原型实例原型链"><span class="nav-number">7.</span> <span class="nav-text">构造函数原型实例原型链</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#prototype和proto的关系是什么"><span class="nav-number">7.1.</span> <span class="nav-text">prototype和proto的关系是什么</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#原型链图解"><span class="nav-number">7.2.</span> <span class="nav-text">原型链图解</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#继承"><span class="nav-number">8.</span> <span class="nav-text">继承</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#闭包"><span class="nav-number">9.</span> <span class="nav-text">闭包</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#考点"><span class="nav-number">9.1.</span> <span class="nav-text">考点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#闭包是什么"><span class="nav-number">9.2.</span> <span class="nav-text">闭包是什么</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#闭包的作用-为什么要有闭包这种东西出现"><span class="nav-number">9.3.</span> <span class="nav-text">闭包的作用/为什么要有闭包这种东西出现</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#闭包有什么副作用"><span class="nav-number">9.4.</span> <span class="nav-text">闭包有什么副作用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#有这样一个函数，如何让b-访问不到a"><span class="nav-number">9.5.</span> <span class="nav-text">有这样一个函数，如何让b 访问不到a</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#其他题目"><span class="nav-number">9.6.</span> <span class="nav-text">其他题目</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#事件流模型"><span class="nav-number">10.</span> <span class="nav-text">事件流模型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Javascript-的事件流模型都有什么？优点？"><span class="nav-number">10.1.</span> <span class="nav-text">Javascript 的事件流模型都有什么？优点？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#事件捕获"><span class="nav-number">10.2.</span> <span class="nav-text">事件捕获</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#阻止冒泡"><span class="nav-number">10.3.</span> <span class="nav-text">阻止冒泡</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#事件委托"><span class="nav-number">10.4.</span> <span class="nav-text">事件委托</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#事件委托有点"><span class="nav-number">10.5.</span> <span class="nav-text">事件委托有点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#事件委托缺点"><span class="nav-number">10.6.</span> <span class="nav-text">事件委托缺点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#target-和-currentTarget-的-区别"><span class="nav-number">10.7.</span> <span class="nav-text">target 和 currentTarget 的 区别</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#对象"><span class="nav-number">11.</span> <span class="nav-text">对象</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#属性类型"><span class="nav-number">11.1.</span> <span class="nav-text">属性类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#对象的深拷贝"><span class="nav-number">11.2.</span> <span class="nav-text">对象的深拷贝</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#箭头函数"><span class="nav-number">12.</span> <span class="nav-text">箭头函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#箭头函数和普通函数的区别"><span class="nav-number">12.1.</span> <span class="nav-text">箭头函数和普通函数的区别</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#this-1"><span class="nav-number">12.1.1.</span> <span class="nav-text">this</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#返回值"><span class="nav-number">12.1.2.</span> <span class="nav-text">返回值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#无arguments"><span class="nav-number">12.1.3.</span> <span class="nav-text">无arguments</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#异步"><span class="nav-number">13.</span> <span class="nav-text">异步</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#了解JavaScript的异步吗？"><span class="nav-number">13.1.</span> <span class="nav-text">了解JavaScript的异步吗？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#了解-Promise-吗？-简要地描述了一下-resolve、reject-函数和-then-方法"><span class="nav-number">13.2.</span> <span class="nav-text">了解 Promise 吗？ 简要地描述了一下 resolve、reject 函数和 then 方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数组"><span class="nav-number">14.</span> <span class="nav-text">数组</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#数组的方法有哪些？"><span class="nav-number">14.1.</span> <span class="nav-text">数组的方法有哪些？</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数组的深拷贝"><span class="nav-number">15.</span> <span class="nav-text">数组的深拷贝</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#判断数组的方法"><span class="nav-number">15.1.</span> <span class="nav-text">判断数组的方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#窗口位置"><span class="nav-number">16.</span> <span class="nav-text">窗口位置</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#给定一个元素获取它相对于视图窗口的坐标"><span class="nav-number">16.1.</span> <span class="nav-text">给定一个元素获取它相对于视图窗口的坐标</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ES6"><span class="nav-number">17.</span> <span class="nav-text">ES6</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ES6新特性，变化"><span class="nav-number">17.1.</span> <span class="nav-text">ES6新特性，变化</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#模块管理"><span class="nav-number">18.</span> <span class="nav-text">模块管理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#函数节流和函数反抖"><span class="nav-number">19.</span> <span class="nav-text">函数节流和函数反抖</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#函数防抖（debounce）"><span class="nav-number">19.1.</span> <span class="nav-text">函数防抖（debounce）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#函数节流（throttle）"><span class="nav-number">19.2.</span> <span class="nav-text">函数节流（throttle）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#resize和scroll事件的性能优化"><span class="nav-number">19.3.</span> <span class="nav-text">resize和scroll事件的性能优化</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#正则表达式"><span class="nav-number">20.</span> <span class="nav-text">正则表达式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#贪婪匹配-和-非贪婪匹配"><span class="nav-number">20.1.</span> <span class="nav-text">贪婪匹配 和 非贪婪匹配</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#全文单词首字母大写"><span class="nav-number">20.2.</span> <span class="nav-text">全文单词首字母大写</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#写一个-function，清除字符串前后的空格。（兼容所有浏览器）"><span class="nav-number">20.3.</span> <span class="nav-text">写一个 function，清除字符串前后的空格。（兼容所有浏览器）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#把-aa-bb-cc-变为-aaBbCc"><span class="nav-number">20.4.</span> <span class="nav-text">把 aa_bb_cc 变为 aaBbCc</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#方法一：正则-注意正则表达式中加不加括号的区别"><span class="nav-number">20.4.1.</span> <span class="nav-text">方法一：正则:注意正则表达式中加不加括号的区别</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#方法二：采用正则"><span class="nav-number">20.4.2.</span> <span class="nav-text">方法二：采用正则</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#方法三：采用数组分割"><span class="nav-number">20.4.3.</span> <span class="nav-text">方法三：采用数组分割</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#var-numberArray-3-6-2-4-1-5-实现对该数组的倒排，输出-5-1-4-2-6-3-实现对该数组的降序排列，输出-6-5-4-3-2-1"><span class="nav-number">20.5.</span> <span class="nav-text">var numberArray = [3,6,2,4,1,5]; 实现对该数组的倒排，输出[5,1,4,2,6,3];实现对该数组的降序排列，输出[6,5,4,3,2,1]</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#输出今天的日期，以-YYYY-MM-DD-的方式，比如今天是-2017-年-9-月-13-日，则输出-2017-09-13"><span class="nav-number">20.6.</span> <span class="nav-text">输出今天的日期，以 YYYY-MM-DD 的方式，比如今天是 2017 年 9 月 13 日，则输出 2017-09-13</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#将字符串”-id-name-”中的-id-替换成-10，-name-替换成-Tony-（使用正则表达式）"><span class="nav-number">20.7.</span> <span class="nav-text">将字符串”{$id}{$name}”中的{$id}替换成 10，{$name}替换成 Tony （使用正则表达式）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#写一个函数，实现-括号里面的替换"><span class="nav-number">20.8.</span> <span class="nav-text">写一个函数，实现{}括号里面的替换</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#兼容性"><span class="nav-number">21.</span> <span class="nav-text">兼容性</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#其他"><span class="nav-number">22.</span> <span class="nav-text">其他</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#原生-js-怎么获取某个类名的所有元素"><span class="nav-number">22.1.</span> <span class="nav-text">原生 js 怎么获取某个类名的所有元素</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
<div class="copyright" >
  
  &copy;  2015 &mdash; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <a href="https://github.com/abigaleypc" target="_blant"><span class="author" itemprop="copyrightHolder">Abigale</span></a>

  
</div>

<!--

 <span id="busuanzi_container_site_pv">
    本站总访问量<span id="busuanzi_value_site_pv"></span>次
</span>
  <span class="post-meta-divider"></span>


-->

<span id="busuanzi_container_site_pv">
    欢迎你呀 小伙伴 ^_^
</span>

        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>

  
  <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.2"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  

    
      <script id="dsq-count-scr" src="https://abigale.disqus.com/count.js" async></script>
    

    
      <script type="text/javascript">
        var disqus_config = function () {
          this.page.url = 'https://abigaleyu.co/2018/06/28/basic-js/';
          this.page.identifier = '2018/06/28/basic-js/';
          this.page.title = '我的面试准备 -- 基础JS';
        };
        var d = document, s = d.createElement('script');
        s.src = 'https://abigale.disqus.com/embed.js';
        s.setAttribute('data-timestamp', '' + +new Date());
        (d.head || d.body).appendChild(s);
      </script>
    

  




	





  










  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  

  

  

  


  
</body>
</html>
